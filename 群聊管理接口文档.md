# 群聊管理接口文档

## 1. 查询全部群聊列表
```
GET /api/chats
```

**查询参数:**
- `skip` (int, 可选): 跳过记录数, 默认0
- `limit` (int, 可选): 返回记录数, 默认100, 最大1000
- `status` (string, 可选): 筛选状态 `active`/`inactive`
- `ownerId` (string, 可选): 筛选分销商ID

**响应:**
```json
{
  "success": true,
  "chats": [...],
  "total": 10
}
```

## 2. 获取单个群聊信息
```
GET /api/chat/{chatId}
```

**响应:**
```json
{
  "success": true,
  "chat": {
    "id": "chat123",
    "name": "群聊名称",
    "game_type": "lucky8",
    "member_count": 50,
    "status": "active",
    ...
  }
}
```

## 3. 获取群聊统计(含人数)
```
GET /api/chat/{chatId}/stats
```

**响应:**
```json
{
  "success": true,
  "stats": {
    "chat_id": "chat123",
    "name": "群聊名称",
    "game_type": "lucky8",
    "member_count": 50,
    "total_bets": 100,
    "total_volume": 5000.0,
    "status": "active"
  }
}
```

## 4. 切换群聊游戏类型
```
POST /api/chat/{chatId}/gametype
```

**请求体:**
```json
{
  "gameType": "lucky8"  // 或 "liuhecai"
}
```

**响应:**
```json
{
  "success": true,
  "chat": {...}
}
```

## 5. 查询群聊内所有用户
```
GET /api/bot-users?chatId={chatId}
```

**查询参数:**
- `chatId` (string, 必填): 群聊ID
- `page` (int, 可选): 页码, 默认1
- `pageSize` (int, 可选): 每页条数, 默认20, 最大100
- `hasMemberProfile` (bool, 可选): 是否已绑定会员
- `username` (string, 可选): 用户名筛选

**响应:**
```json
{
  "list": [...],
  "total": 50,
  "page": 1,
  "pageSize": 20
}
```

## 6. 更新群聊状态
```
POST /api/chat/{chatId}/status
```

**请求体:**
```json
{
  "status": "active"  // 或 "inactive"
}
```

## 7. 更新群聊所属分销商
```
POST /api/chat/{chatId}/owner
```

**请求体:**
```json
{
  "ownerId": "distributor123"  // 或 null
}
```

## 8. 创建群聊
```
POST /api/chat/add
```

**请求体:**
```json
{
  "id": "chat123",
  "name": "新群聊",
  "game_type": "lucky8",
  "owner_id": "distributor123",
  "auto_draw": true,
  "bet_lock_time": 60
}
```

## 9. 删除群聊
```
DELETE /api/chat/{chatId}
```
